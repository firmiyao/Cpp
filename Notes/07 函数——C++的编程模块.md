# 复习函数的基本知识：

## 函数参数和按值传递：

**用于接受传递值得变量被称为形参。传递给函数的值被称为实参**

**C++标准使用参数（argument）来表示实参，使用参量（parameter）来表示形参**

***



## 函数和数组：:fire:

假如有如下的函数头：

```c++
int sum_arr(int arr[ ] , int n)
```

方括号表明arr是一个数组，而方括号表明，可以将任意长度的数组传递给该函数。

事实上，arr并不是一个数组，而是一个指针。

等效于：

```c++
int sum_arr( int *arr , int n)
```

### 函数如何使用指针来处理数据：

首先，**数组声明使用数组名来标记存储位置**，其次，**对数组名使用 sizeof 将得到整个数组的长度；**最后，**将地址运算符&用于数组名时，将返回整个数组的地址。**

其次，记住两个恒等式：

```c++
arr[i] = *(arr + i ) ;
&arr[i] = arr + i ;
```

**将指针（包括数组名）加1，实际上是加上了一个与指针指向的类型的长度相等的值。**

### 将数组作为参数意味着什么：

:fire:**传递常规变量时，如int，char，函数将使用该变量的拷贝；但传递数组时，函数将使用原来的数组**

上才艺：

```c++
#include<iostream>
using namespace std;
int fun(int arr[],int n)
{
	int sum = 0;
	for (int i = 0; i < n; i++)
	{
		sum += arr[i];
	}
	return sum;
}
int main(void)
{
	int arr[10]{ 1,2,3,4,5,6,7,8,9,10 };
	int sum = fun(arr + 4, 3);   //此时指向a[4]，也可以用&a[4]
	cout << "第五个及后两个的值为：" << sum << endl;
	return 0;
}
```

![image-20221004194539009](https://cdn.jsdelivr.net/gh/firmiyao/Picture/img/202210041945040.png)

### 填充和保护数组：

如果不改变数组的值，只是要应用的话，可以用const限定符加以限制，如下：

```c++
void show_arr( const int arr[ ] , int n )
```

***

### 使用数组区间的函数：

**方法：使用两个指针**

上才艺：

```c++
//输出arr[5]的除了头尾的元素：
#include<iostream>
using namespace std;
void fun(int *p,int *q)
{
	int* t = p;
	for (; t != (q+1); t++)
	{
		cout << *t<<"\t";
	}
}
int main(void)
{
	int arr[5]{ 1,2,3,4,5 };
	fun(arr + 1, arr + 3);  //倒数第二个元素就是arr[4]
	return 0;
}
```

![image-20221004195928000](https://cdn.jsdelivr.net/gh/firmiyao/Picture/img/202210041959024.png)

### 指针和const：（待写）



***

## 函数和二维数组：

**为编写将二维数组作为参数的函数，必须牢记，，数组名被视为其地址**

**并且，二维数组也只是一维数组，只是一维数组的元素也是一维数组**

区分数组指针和指针数组，这里讲的是数组指针：

上才艺：

数组指针：

```c++
#include<iostream>
using namespace std;
void fun(int(*p)[4],int n)
{
    for (int i = 0; i < n; i++)
    {
        for (int j = 0; j < 4; j++)
            //cout << *((*p) + j)<<"\t";
            cout << p[i][j] << "\t";       //二选一效果一致
        cout << endl;
    }

}
int main(void)
{
    int a[3][4] =
    {
        {1,2,3,4},
        {5,6,7,8},
        {44,8,9,0}
    };
    fun(a,3);
    return 0;
}
```

![image-20221004203113584](https://cdn.jsdelivr.net/gh/firmiyao/Picture/img/202210042031610.png)

也可以将二维数组一维化：上才艺：

```c++
#include<iostream>
using namespace std;
void fun(int *p,int n,int m)
{
    for (int i = 0; i < n; i++)
    {
        for (int j = 0; j < m; j++)
        {
            cout << p[j] << "\t";   
        }
        cout << endl;
    }
}
int main(void)
{
    int a[3][4] =
    {
        {1,2,3,4},
        {5,6,7,8},
        {44,8,9,0}
    };
    fun(*a,3,4);   
    //此时*a表示的是一个一维数组，并将其地址传递给函数
    return 0;
}
```

也可以把fun函数写作：

```c++
void fun(int *p,int n,int m)
{
    for (int i = 0; i < n ; i++)
    {
        for (int j = 0; j < m; j++)
            cout << p[j] << "\t";
        cout << endl;
        p++;
    }
}
```

***

## 函数和C风格字符串：

**记住：和数组一样，将字符串作为参数时意味着传递的是地址**

### 将C风格字符串作为参数的函数：

**字符串作为参数，实际传递的是字符串第一个字符的地址**

假设要将字符串作为参数参数传递给函数，则表示字符串的方式有：(fun是函数)

```c++
char s[10]="hello woj";
char *p="i like it";
//调用函数：
fun ( s ) ;
fun ( p );
fun ( " hello hah " )
```

接下来上才艺：

就算一个字符串里面有几个指定字符：

```c++
#include<iostream>
using namespace std;
int fun(char* p,char ch)
{
    int n = 0;
    while (*p)
    {
        if (*p == ch)
            n++;
        p++;
    }
    return n;
}
int main(void)
{
    char* p = "hello hh";
    char str[10] = "hoo hhh";
    cout << p << "\t has " << fun(p, 'h') << "个 'h'" << endl;
    cout << str << "\t has " << fun(str, 'o') << "个 'o'" << endl;
    return 0;
}
```

![image-20221004211441716](https://cdn.jsdelivr.net/gh/firmiyao/Picture/img/202210042114742.png)

注意：

```c++
  while (*p)
```

当指针指到 '\0'时，为false 。

***



### 返回C风格字符串的函数：

**假设要编写一个返回字符串的函数。可知字符串无法返回，但可以返回字符串的地址**

编写一个函数，返回 n 个 c ，上才艺：

```c++
#include<iostream>
using namespace std;
char *fun(char c,int n)
{
    char* t = new char[n + 1];
    t[n] = '\0';
    while (n-- > 0)
        t[n] = c;
    return t;
}
int main(void)
{
    cout << fun('v', 5) << endl;
    return 0;
}
```

输出5个v

***

## 函数和结构：

